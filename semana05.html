<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Contador de Pessoas</title>
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background: #fff;
      font-family: Arial, sans-serif;
      margin-top: 50px;
    }
    .counter-container {
      max-width: 350px;
      margin: auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
      position: relative;
      background: white;
    }
    .total-box {
      font-size: 22px;
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 5px;
      width: 80px;
      margin: 0 auto 20px auto;
      text-align: center;
    }
    .reset-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      color: #000;
      user-select: none;
    }
    .person img {
      width: 60px;
      margin-bottom: 10px;
    }
    .count-box {
      font-size: 20px;
      padding: 5px;
      border: 2px solid #ccc;
      border-radius: 5px;
      width: 50px;
      margin: 10px auto 0 auto;
      text-align: center;
    }
    .btn-circle {
      width: 40px;
      height: 40px;
      padding: 0;
      border-radius: 50%;
      font-size: 24px;
      line-height: 1;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    class PersonCounter {
      constructor(label, imgUrl, containerId) {
        this.label = label;
        this.imgUrl = imgUrl;
        this.containerId = containerId;
        this.count = 0;
        this.createInterface();
      }

      createInterface() {
        const container = document.createElement('div');
        container.className = 'person text-center col';

        const img = document.createElement('img');
        img.src = this.imgUrl;
        img.alt = this.label;

        // Controles de bot√µes
        const controls = document.createElement('div');
        controls.className = 'my-3';

        const plus = document.createElement('button');
        plus.className = 'btn btn-success btn-circle me-2';
        plus.innerText = '+';
        plus.onclick = () => this.increment();

        const minus = document.createElement('button');
        minus.className = 'btn btn-danger btn-circle';
        minus.innerText = '‚àí';
        minus.onclick = () => this.decrement();

        controls.appendChild(plus);
        controls.appendChild(minus);

        const labelEl = document.createElement('div');
        labelEl.innerText = this.label;

        const count = document.createElement('div');
        count.className = 'count-box';
        count.innerText = this.count;

        container.appendChild(img);
        container.appendChild(controls);
        container.appendChild(labelEl);
        container.appendChild(count);

        document.getElementById(this.containerId).appendChild(container);

        this.countElement = count;
      }

      increment() {
        this.count++;
        this.updateDisplay();
      }

      decrement() {
        if (this.count > 0) {
          this.count--;
        }
        this.updateDisplay();
      }

      updateDisplay() {
        this.countElement.innerText = this.count;
        updateTotal();
      }

      reset() {
        this.count = 0;
        this.updateDisplay();
      }
    }

    class TotalCounter {
      constructor(containerId) {
        this.containerId = containerId;
        this.totalCount = 0;
        this.createInterface();
      }

      createInterface() {
        const container = document.createElement('div');
        container.className = 'counter-container';

        const reset = document.createElement('div');
        reset.className = 'reset-btn';
        reset.innerHTML = 'üîÑ';
        reset.title = 'Resetar';
        reset.onclick = () => this.resetTotal();

        const title = document.createElement('div');
        title.className = 'total fs-4 fw-bold mb-2';
        title.innerText = 'Total';

        const totalBox = document.createElement('div');
        totalBox.className = 'total-box';
        totalBox.innerText = '0';

        const personSection = document.createElement('div');
        personSection.className = 'row';

        container.appendChild(reset);
        container.appendChild(title);
        container.appendChild(totalBox);
        container.appendChild(personSection);

        document.getElementById(this.containerId).appendChild(container);

        this.totalBox = totalBox;
        this.personSection = personSection;
      }

      updateTotal() {
        this.totalCount = homens.count + mulheres.count;
        this.totalBox.innerText = this.totalCount;
      }

      resetTotal() {
        homens.reset();
        mulheres.reset();
        this.updateTotal();
      }
    }

    // Criar contador total e se√ß√£o de pessoas
    const totalCounter = new TotalCounter('app');

    // Criar contadores de homens e mulheres dentro da se√ß√£o de pessoas
    const homens = new PersonCounter('Homens', 'https://img.icons8.com/ios-filled/100/000000/user-male-circle.png', totalCounter.personSection.id || (totalCounter.personSection.id = 'person-section'));
    const mulheres = new PersonCounter('Mulheres', 'https://img.icons8.com/ios-filled/100/000000/user-female-circle.png', totalCounter.personSection.id);

    // Atualizar total
    function updateTotal() {
      totalCounter.updateTotal();
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
